{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/peachpetal/workspace/FE7_DevCourse/learn-next/final/src/components/common/DeleteModal.tsx"],"sourcesContent":["import { X } from \"lucide-react\";\n\ninterface DeleteModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n  title: string;\n  message: string;\n}\n\nexport default function DeleteModal({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message,\n}: DeleteModalProps) {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      <div\n        className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n\n      <div className=\"relative bg-gray-900 border border-gray-800 rounded-lg p-6 max-w-md w-full mx-4\">\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 p-1 rounded hover:bg-gray-800 transition-colors\"\n        >\n          <X size={18} className=\"text-gray-400\" />\n        </button>\n\n        <div className=\"space-y-4\">\n          <h2 className=\"text-xl font-light\">{title}</h2>\n          <p className=\"text-gray-400 text-sm leading-relaxed\">{message}</p>\n\n          <div className=\"flex gap-3 pt-4\">\n            <button\n              onClick={onConfirm}\n              className=\"flex-1 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-500 transition-colors text-sm\"\n            >\n              Delete\n            </button>\n            <button\n              onClick={onClose}\n              className=\"flex-1 px-4 py-2 rounded-lg border border-gray-700 hover:bg-gray-800 transition-colors text-sm\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAUe,SAAS,YAAY,EAClC,MAAM,EACN,OAAO,EACP,SAAS,EACT,KAAK,EACL,OAAO,EACU;IACjB,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,wQAAC;QAAI,WAAU;;0BACb,wQAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAGX,wQAAC;gBAAI,WAAU;;kCACb,wQAAC;wBACC,SAAS;wBACT,WAAU;kCAEV,cAAA,wQAAC,2NAAC;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;kCAGzB,wQAAC;wBAAI,WAAU;;0CACb,wQAAC;gCAAG,WAAU;0CAAsB;;;;;;0CACpC,wQAAC;gCAAE,WAAU;0CAAyC;;;;;;0CAEtD,wQAAC;gCAAI,WAAU;;kDACb,wQAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;kDAGD,wQAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb","debugId":null}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///home/peachpetal/workspace/FE7_DevCourse/learn-next/final/src/utils/helper/index.ts"],"sourcesContent":["// src/utils/helper/index.ts\n\nimport Parser from \"rss-parser\";\nimport translate from \"@iamtraction/google-translate\";\nimport { parse } from \"node-html-parser\";\nimport htmlToMarkdown from \"html-to-md\";\n\nexport function estimateReadTime(content: string) {\n  if (!content) return `1 min read`;\n  const words = content.trim().split(/\\s+/).length;\n  const minutes = Math.max(1, Math.ceil(words / 200));\n  return `${minutes} min read`;\n}\n\nconst RSS_FEED_URL = \"https://blog.google/products/gemini/rss/\";\n\nexport type FeedItem = {\n  title: string;\n  link: string;\n  pubDate: string;\n  guid: string;\n  content: string; // Markdown\n  contentSnippet?: string;\n  categories?: string[];\n};\n\n// üí° HTML Î≥∏Î¨∏ÏùÑ Í∞ÄÏ†∏ÏôÄ MarkdownÏúºÎ°ú Î≥ÄÌôò + ÎÖ∏Ïù¥Ï¶à Ï†úÍ±∞\nasync function fetchFullArticleAsMarkdown(link: string): Promise<string> {\n  try {\n    const res = await fetch(link, { next: { revalidate: 3600 } });\n    if (!res.ok) throw new Error(`Failed to fetch article: ${link}`);\n\n    const html = await res.text();\n    const root = parse(html);\n\n    // Google Blog Î≥∏Î¨∏ÏùÄ <article> ÌÉúÍ∑∏ ÏïàÏóê ÏûàÏùå\n    const article = root.querySelector(\"article\");\n    if (!article) return \"\";\n\n    // --- [1] Î∂àÌïÑÏöîÌïú ÏöîÏÜå Ï†úÍ±∞ ---\n    article.querySelectorAll(\"nav, header, footer\").forEach((el) => el.remove());\n    article.querySelectorAll(\"aside, .share, .share-links, .breadcrumbs\").forEach((el) => el.remove());\n    article.querySelectorAll(\"a\").forEach((a) => {\n      const text = a.textContent?.trim() || \"\";\n      // ‚ÄúShare‚Äù, ‚ÄúCopy link‚Äù Í∞ôÏùÄ ÎßÅÌÅ¨Îäî Ï†úÍ±∞\n      if (/^(Share|Copy link|Twitter|Facebook|LinkedIn|Mail)$/i.test(text)) a.remove();\n    });\n\n    // --- [2] HTMLÏùÑ MarkdownÏúºÎ°ú Î≥ÄÌôò ---\n    let markdown = htmlToMarkdown(article.innerHTML);\n\n    // --- [3] ÌõÑÏ≤òÎ¶¨(clean-up) ---\n    markdown = markdown\n      .replace(/\\n{3,}/g, \"\\n\\n\") // Ï§ÑÎ∞îÍøà Ï†ïÎ¶¨\n      .replace(/Breadcrumb.*?\\n/gi, \"\") // Breadcrumb Ï†úÍ±∞\n      .replace(/POSTED IN:.*$/gim, \"\") // ÌïòÎã® Ïπ¥ÌÖåÍ≥†Î¶¨ Ï†úÍ±∞\n      .replace(/\\[Share\\]\\(.*?\\)/g, \"\") // Í≥µÏú† ÎßÅÌÅ¨ Ï†úÍ±∞\n      .replace(/Copy link/g, \"\")\n      .replace(/(\\*\\*?\\s*)+/g, \"**\"); // Ïù¥ÏÉÅÌïú ÍµµÍ≤å Ï≤òÎ¶¨ Ï†ïÎ¶¨\n\n    markdown = markdown.trim();\n\n    return markdown;\n  } catch (error) {\n    console.error(\"Error fetching or converting article:\", error);\n    return \"\";\n  }\n}\n\nexport async function getGeminiProductFeed(): Promise<FeedItem[]> {\n  try {\n    const response = await fetch(RSS_FEED_URL, { next: { revalidate: 3600 } });\n    if (!response.ok) throw new Error(`Failed to fetch RSS feed: ${response.statusText}`);\n\n    const xmlText = await response.text();\n    const parser = new Parser<Record<string, never>, FeedItem>({\n      customFields: {\n        item: [[\"content:encoded\", \"content\"]],\n      },\n    });\n\n    const feed = await parser.parseString(xmlText);\n    const plainItems: FeedItem[] = feed.items.map((item) => ({\n      title: item.title,\n      link: item.link,\n      pubDate: item.pubDate,\n      guid: item.guid,\n      content: item.content || \"\",\n      contentSnippet: item.contentSnippet,\n      categories: item.categories,\n    }));\n\n    // --- Ï†ÑÏ≤¥ Î≥∏Î¨∏(Markdown Î≥ÄÌôò Ìè¨Ìï®) ---\n    const itemsWithFullMarkdown = await Promise.all(\n      plainItems.map(async (item) => {\n        const markdown = await fetchFullArticleAsMarkdown(item.link);\n        return { ...item, content: markdown || item.content };\n      })\n    );\n\n    // --- Î≤àÏó≠ (Ï†úÎ™© + ÏöîÏïΩÎßå) ---\n    const translatedItems = await Promise.all(\n      itemsWithFullMarkdown.map(async (item) => {\n        try {\n          const [translatedTitle, translatedSnippet] = await Promise.all([\n            translate(item.title, { from: \"en\", to: \"ko\" }),\n            translate(item.contentSnippet || \"\", { from: \"en\", to: \"ko\" }),\n          ]);\n          return {\n            ...item,\n            title: translatedTitle.text,\n            contentSnippet: translatedSnippet.text,\n          };\n        } catch {\n          return item;\n        }\n      })\n    );\n\n    return translatedItems;\n  } catch (error) {\n    console.error(\"Error fetching or parsing Gemini RSS feed:\", error);\n    return [];\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 373, "column": 0}, "map": {"version":3,"sources":["file:///home/peachpetal/workspace/FE7_DevCourse/learn-next/final/src/components/post/PostClient.tsx"],"sourcesContent":["\"use client\";\nimport DeleteModal from \"@/components/common/DeleteModal\";\nimport { PostDetail } from \"@/types\";\nimport { estimateReadTime } from \"@/utils/helper\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { format } from \"date-fns\";\nimport { Clock, Edit, Trash2, Send } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useState, useEffect } from \"react\"; // üí° useEffect Ï∂îÍ∞Ä\n\nexport default function PostClient({\n  postRows,\n  userId,\n}: {\n  postRows: PostDetail;\n  userId: string | undefined;\n}) {\n  const router = useRouter(); // üí° router.refresh()Î•º ÏúÑÌï¥ ÌïÑÏöî\n  const supabase = createClient();\n\n  // ‚ùå [Ï†úÍ±∞] Ïù¥ StateÍ∞Ä Î¨∏Ï†úÎ•º ÏùºÏúºÌÇµÎãàÎã§.\n  // const [commentList, setCommentList] = useState(postRows.comments);\n  const [newComment, setNewComment] = useState(\"\");\n  const [submittingComment, setSubmittingComment] = useState(false);\n\n  const [isDeletePostModalOpen, setIsDeletePostModalOpen] = useState(false);\n  const [deleteCommentId, setDeleteCommentId] = useState<number | null>(null);\n\n  // üí° [Ï∂îÍ∞Ä] Realtime Íµ¨ÎèÖ Î°úÏßÅ\n  useEffect(() => {\n    // üí° Ïù¥ Ïª¥Ìè¨ÎÑåÌä∏Í∞Ä ÌôúÏÑ±ÌôîÎêú ÎèôÏïà Îì§ÏùÑ Ï±ÑÎÑê ÏÉùÏÑ±\n    const channel = supabase\n      .channel(`post-${postRows.id}`)\n      .on(\n        \"postgres_changes\",\n        {\n          event: \"*\", // üí° INSERT, UPDATE, DELETE Î™®Îëê Í∞êÏßÄ\n          schema: \"public\",\n          table: \"comments\",\n          filter: `post_id=eq.${postRows.id}`, // üí° \"Ïù¥ Í≤åÏãúÍ∏Ä(postRows.id)Ïóê Îã¨Î¶∞\" ÎåìÍ∏ÄÎßå\n        },\n        (payload) => {\n          // üí° ÎåìÍ∏ÄÏóê Î≥ÄÍ≤Ω(Ï∂îÍ∞Ä/ÏÇ≠Ï†ú/ÏàòÏ†ï)Ïù¥ ÏÉùÍ∏∞Î©¥, router.refresh() Ìò∏Ï∂ú\n          // üí° router.refresh()Îäî ÏÑúÎ≤Ñ Îç∞Ïù¥ÌÑ∞Î•º Îã§Ïãú Í∞ÄÏ†∏ÏôÄ ÌôîÎ©¥ÏùÑ ÏÉàÎ°úÍ≥†Ïπ®Ìï©ÎãàÎã§.\n          console.log(\"New comment activity!\", payload);\n          // üí° [ÏàòÏ†ï] 1Ï¥à ÏßÄÏó∞ÏùÑ Ï£ºÏñ¥ DB Î≥µÏ†ú ÏßÄÏó∞ ÏãúÍ∞Ñ ÌôïÎ≥¥\n          // setTimeout(() => {\n          //   router.refresh();\n          // }, 500);\n          router.refresh();\n        }\n      )\n      .on(\n        \"postgres_changes\",\n        {\n          event: \"UPDATE\", // üí° Í≤åÏãúÍ∏Ä \"ÏàòÏ†ï\"Îßå Í∞êÏßÄ\n          schema: \"public\",\n          table: \"posts\",\n          filter: `id=eq.${postRows.id}`, // üí° \"Î∞îÎ°ú Ïù¥ Í≤åÏãúÍ∏Ä(postRows.id)\"Îßå\n        },\n        (payload) => {\n          // üí° Í≤åÏãúÍ∏Ä Î≥∏Î¨∏Ïù¥ ÏàòÏ†ïÎêòÎ©¥ router.refresh() Ìò∏Ï∂ú\n          console.log(\"Post updated!\", payload);\n          // üí° [ÏàòÏ†ï] 1Ï¥à ÏßÄÏó∞ (ÏùºÍ¥ÄÏÑ±)\n          // setTimeout(() => {\n          //   router.refresh();\n          // }, 500);\n          router.refresh();\n        }\n      )\n      .subscribe();\n\n    // üí° Ïª¥Ìè¨ÎÑåÌä∏Í∞Ä ÏÇ¨ÎùºÏßà Îïå Ï±ÑÎÑê Íµ¨ÎèÖ Ìï¥Ï†ú (Î©îÎ™®Î¶¨ ÎàÑÏàò Î∞©ÏßÄ)\n    return () => {\n      supabase.removeChannel(channel);\n    };\n  }, [supabase, postRows.id, router]); // üí° ÏùòÏ°¥ÏÑ± Î∞∞Ïó¥\n\n  // ... (Í∏∞Ï°¥Ïùò handleSubmitComment, handleDeletePost, handleDeleteComment Ìï®ÏàòÎì§)\n  // üí° Ï§ëÏöî: Ïù¥ Ìï®ÏàòÎì§ ÎÇ¥Î∂ÄÏùò router.refresh()Îäî Í∑∏ÎåÄÎ°ú ÎëêÏÑ∏Ïöî.\n  // üí° RealtimeÏùÄ \"Îã§Î•∏\" ÏÇ¨Ïö©ÏûêÏùò Î≥ÄÍ≤ΩÏùÑ Í∞êÏßÄÌïòÎäî Ïö©ÎèÑÏù¥Í≥†,\n  // üí° Í∏∞Ï°¥ router.refresh()Îäî \"ÎÇ¥Í∞Ä\" Î≥ÄÍ≤ΩÏùÑ ÏùºÏúºÏº∞ÏùÑ Îïå Ï¶âÏãú Î∞òÏòÅÌïòÎäî Ïö©ÎèÑÏûÖÎãàÎã§.\n\n  const handleSumbitComment = async () => {\nif (!userId) {\n      alert(\"Î°úÍ∑∏Ïù∏ ÌõÑ ÎåìÍ∏ÄÏùÑ Îã¨ Ïàò ÏûàÏäµÎãàÎã§.\");\n      return;\n    }\nif (newComment.trim() === \"\") {\n      alert(\"ÎåìÍ∏Ä ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.\");\n      return;\n    }\n    setSubmittingComment(true);\n\n// üí° [ÏàòÏ†ï] .select().single()ÏùÑ Ï†úÍ±∞Ìï©ÎãàÎã§.\n    // 406 ÏóêÎü¨Î•º ÏõêÏ≤úÏ†ÅÏúºÎ°ú Î∞©ÏßÄÌïòÍ≥†, Î∂àÌïÑÏöîÌïú SELECTÎ•º Ï§ÑÏûÖÎãàÎã§.\n    const { error } = await supabase.from(\"comments\").insert([\n      {\n        post_id: postRows.id,\n        profile_id: userId,\n        content: newComment.trim(),\n      },\n    ]);\n\n    if (error) {\n      alert(\"ÎåìÍ∏Ä Îì±Î°ùÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\");\n      setSubmittingComment(false);\n      return;\n    }\n\n    // ‚ùå [Ï†úÍ±∞] setCommentList((comment) => [...comment, data]);\n\n// üí° [ÏàòÏ†ï] router.refresh()Î•º Ìò∏Ï∂úÌïòÏó¨ ÏÑúÎ≤ÑÎ°úÎ∂ÄÌÑ∞ ÏµúÏã† Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏ÏòµÎãàÎã§.\n    // (Ïù¥ Ìò∏Ï∂úÏùÄ DB Î≥µÏ†ú ÏßÄÏó∞Ïùò ÏòÅÌñ•ÏùÑ Î∞õÏßÄ ÏïäÏäµÎãàÎã§. Î∞©Í∏à ÎÇ¥Í∞Ä Ïì¥ Îç∞Ïù¥ÌÑ∞Ïù¥Í∏∞ ÎïåÎ¨∏)\n    router.refresh();\n\n    setNewComment(\"\");\n    setSubmittingComment(false);\n  };\n  const handleDeletePost = async () => {\n    if (userId !== postRows.profile_id) {\n      alert(\"Î≥∏Ïù∏Ïùò Í≤åÏãúÍ∏ÄÎßå ÏÇ≠Ï†úÌï† Ïàò ÏûàÏäµÎãàÎã§.\");\n      return;\n    }\n    const { error } = await supabase\n      .from(\"posts\")\n      .delete()\n      .eq(\"id\", postRows.id);\n\n    if (error) {\n      alert(\"Í≤åÏãúÍ∏Ä ÏÇ≠Ï†ú Ï§ë ÏóêÎü¨Í∞Ä Î∞úÏÉùÌïòÏòÄÏäµÎãàÎã§.\");\n      setIsDeletePostModalOpen(false);\n      return;\n    }\n\n    router.replace(\"/\");\n  };\n\n  // const handleDeleteComment = (commentId: number) => {\n  //   console.log(\"Delete comment:\", commentId);\n  //   setDeleteCommentId(null);\n  // };\n  // üí° [ÏàòÏ†ï] Ïù¥ Ìï®ÏàòÎ•º console.logÏóêÏÑú Ïã§Ï†ú ÏÇ≠Ï†ú Î°úÏßÅÏúºÎ°ú Î≥ÄÍ≤ΩÌï©ÎãàÎã§.\n  const handleDeleteComment = async (commentId: number) => {\n    // Î∞©Ïñ¥ Î°úÏßÅ: Î≥∏Ïù∏ ÎåìÍ∏ÄÏù∏ÏßÄ ÌôïÏù∏\n    const commentToDelete = postRows.comments.find((c) => c.id === commentId);\n    if (!commentToDelete || commentToDelete.profile_id !== userId) {\n      alert(\"Î≥∏Ïù∏Ïùò ÎåìÍ∏ÄÎßå ÏÇ≠Ï†úÌï† Ïàò ÏûàÏäµÎãàÎã§.\");\n      setDeleteCommentId(null);\n      return;\n    }\n\n    // SupabaseÏóêÏÑú ÎåìÍ∏Ä ÏÇ≠Ï†ú\n    const { error } = await supabase\n      .from(\"comments\")\n      .delete()\n      .eq(\"id\", commentId);\n\n    if (error) {\n      alert(\"ÎåìÍ∏Ä ÏÇ≠Ï†ú Ï§ë ÏóêÎü¨Í∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.\");\n    } else {\n      // üí° ÏÑ±Í≥µ Ïãú, ÌéòÏù¥ÏßÄÎ•º ÏÉàÎ°úÍ≥†Ïπ®ÌïòÏó¨ ÎåìÍ∏Ä Î™©Î°ùÏùÑ Í∞±Ïã†Ìï©ÎãàÎã§.\n      router.refresh();\n    }\n\n    setDeleteCommentId(null); // Î™®Îã¨ Îã´Í∏∞\n  };\n  return (\n    <>\n      <div className=\"max-w-3xl mx-auto\">\n        <article className=\"space-y-8\">\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center gap-2\">\n              {postRows.tags?.split(\",\").map((tag) => (\n                <span\n                  key={tag}\n                  className=\"text-xs px-2 py-1 rounded bg-gray-800 text-gray-400\"\n                >\n                  {tag}\n                </span>\n              ))}\n            </div>\n\n            <h1 className=\"text-4xl font-light tracking-tight leading-tight\">\n              {postRows.title}\n            </h1>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-4 text-sm text-gray-400\">\n                <span>{postRows.profiles?.display_name}</span>\n                <span>‚Ä¢</span>\n                <div className=\"flex items-center gap-1\">\n                  <Clock size={14} />\n                  <span>\n                    {\" \"}\n                    {format(new Date(postRows.created_at), \"yyyy.MM.dd\")}\n                  </span>\n                </div>\n                <span>‚Ä¢</span>\n                <span>{estimateReadTime(postRows.content || \"\")}</span>\n              </div>\n\n              <div className=\"flex items-center gap-2\">\n                {userId === postRows.profile_id && (\n                  <>\n                    <Link href={`/write?post_id=${postRows.id}`}>\n                      <button className=\"p-2 rounded hover:bg-gray-800 transition-colors\">\n                        <Edit size={16} className=\"text-gray-400\" />\n                      </button>\n                    </Link>\n                    <button\n                      className=\"p-2 rounded hover:bg-gray-800 transition-colors\"\n                      onClick={() => setIsDeletePostModalOpen(true)}\n                    >\n                      <Trash2 size={16} className=\"text-gray-400\" />\n                    </button>\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"border-t border-gray-800 pt-8\">\n            <div className=\"prose prose-invert prose-sm max-w-none\">\n              {postRows.content?.split(\"\\n\\n\").map((paragraph, idx) => {\n                if (paragraph.startsWith(\"## \")) {\n                  return (\n                    <h2 key={idx} className=\"text-2xl font-light mt-8 mb-4\">\n                      {paragraph.replace(\"## \", \"\")}\n                    </h2>\n                  );\n                }\n                if (paragraph.startsWith(\"### \")) {\n                  return (\n                    <h3 key={idx} className=\"text-xl font-light mt-6 mb-3\">\n                      {paragraph.replace(\"### \", \"\")}\n                    </h3>\n                  );\n                }\n                return (\n                  <p key={idx} className=\"text-gray-300 leading-relaxed mb-4\">\n                    {paragraph}\n                  </p>\n                );\n              })}\n            </div>\n          </div>\n        </article>\n\n        <div className=\"mt-16 pt-8 border-t border-gray-800 space-y-6\">\n          <h2 className=\"text-2xl font-light\">\n            Comments ({postRows.comments.length})\n          </h2>\n\n          <div className=\"border border-gray-800 rounded-lg p-4 bg-gray-900/30\">\n            <textarea\n              placeholder=\"Add a comment...\"\n              rows={3}\n              className=\"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-gray-600 focus:outline-none text-sm resize-none\"\n              value={newComment}\n              onChange={(e) => setNewComment(e.target.value)}\n            />\n            <div className=\"flex justify-end mt-3\">\n              <button\n                className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors text-sm\"\n                onClick={handleSumbitComment}\n                disabled={submittingComment}\n              >\n                <Send size={14} />\n                <span>{submittingComment ? \"Post...\" : \"Post\"}</span>\n              </button>\n            </div>\n          </div>\n\n          <div className=\"space-y-4\">\n            {/* üí° [ÏàòÏ†ï] commentListÍ∞Ä ÏïÑÎãå postRows.commentsÎ•º ÏßÅÏ†ë map */}\n            {postRows.comments.map((comment) => (\n              <div\n                key={comment.id}\n                className=\"border border-gray-800 rounded-lg p-4 bg-gray-900/30\"\n              >\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"space-y-2 flex-1\">\n                    <div className=\"flex items-center gap-3 text-sm\">\n                      <span className=\"font-medium text-gray-300\">\n                        {/* {comment.author} */}\n                      </span>\n                      <span className=\"text-gray-500\">\n                        {format(new Date(comment.created_at), \"yyyy.MM.dd\")}\n                      </span>\n                    </div>\n                    <p className=\"text-gray-400 text-sm leading-relaxed\">\n                      {comment.content}\n                    </p>\n                  </div>\n                  {/* <button\n                    className=\"p-1 rounded hover:bg-gray-800 transition-colors\"\n                    onClick={() => setDeleteCommentId(comment.id)}\n                  >\n                    <Trash2 size={14} className=\"text-gray-500\" />\n                  </button> */}\n                  {/* üí° [ÏàòÏ†ï] Î≥∏Ïù∏(userId)Ïùò ÎåìÍ∏Ä(comment.profile_id)Ïùº ÎïåÎßå ÏÇ≠Ï†ú Î≤ÑÌäºÏù¥ Î≥¥Ïù¥ÎèÑÎ°ù! */}\n                  {userId === comment.profile_id && (\n                    <button\n                      className=\"p-1 rounded hover:bg-gray-800 transition-colors\"\n                      onClick={() => setDeleteCommentId(comment.id)}\n                    >\n                      <Trash2 size={14} className=\"text-gray-500\" />\n                    </button>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n      <DeleteModal\n        isOpen={isDeletePostModalOpen}\n        onClose={() => setIsDeletePostModalOpen(false)}\n        onConfirm={handleDeletePost}\n        title=\"Delete Post\"\n        message=\"Are you sure you want to delete this post? This action cannot be undone.\"\n      />\n\n      <DeleteModal\n        isOpen={deleteCommentId !== null}\n        onClose={() => setDeleteCommentId(null)}\n        onConfirm={() =>\n          deleteCommentId && handleDeleteComment(deleteCommentId)\n        }\n        title=\"Delete Comment\"\n        message=\"Are you sure you want to delete this comment? This action cannot be undone.\"\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA,+XAA6C,kBAAkB;AAT/D;;;;;;;;;;AAWe,SAAS,WAAW,EACjC,QAAQ,EACR,MAAM,EAIP;IACC,MAAM,SAAS,IAAA,yKAAS,KAAI,6BAA6B;IACzD,MAAM,WAAW,IAAA,4KAAY;IAE7B,6BAA6B;IAC7B,qEAAqE;IACrE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,2OAAQ,EAAC;IAC7C,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,2OAAQ,EAAC;IAE3D,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,IAAA,2OAAQ,EAAC;IACnE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,2OAAQ,EAAgB;IAEtE,yBAAyB;IACzB,IAAA,4OAAS,EAAC;QACR,8BAA8B;QAC9B,MAAM,UAAU,SACb,OAAO,CAAC,CAAC,KAAK,EAAE,SAAS,EAAE,EAAE,EAC7B,EAAE,CACD,oBACA;YACE,OAAO;YACP,QAAQ;YACR,OAAO;YACP,QAAQ,CAAC,WAAW,EAAE,SAAS,EAAE,EAAE;QACrC,GACA,CAAC;YACC,gDAAgD;YAChD,mDAAmD;YACnD,QAAQ,GAAG,CAAC,yBAAyB;YACrC,mCAAmC;YACnC,qBAAqB;YACrB,sBAAsB;YACtB,WAAW;YACX,OAAO,OAAO;QAChB,GAED,EAAE,CACD,oBACA;YACE,OAAO;YACP,QAAQ;YACR,OAAO;YACP,QAAQ,CAAC,MAAM,EAAE,SAAS,EAAE,EAAE;QAChC,GACA,CAAC;YACC,sCAAsC;YACtC,QAAQ,GAAG,CAAC,iBAAiB;YAC7B,sBAAsB;YACtB,qBAAqB;YACrB,sBAAsB;YACtB,WAAW;YACX,OAAO,OAAO;QAChB,GAED,SAAS;QAEZ,sCAAsC;QACtC,OAAO;YACL,SAAS,aAAa,CAAC;QACzB;IACF,GAAG;QAAC;QAAU,SAAS,EAAE;QAAE;KAAO,GAAG,YAAY;IAEjD,2EAA2E;IAC3E,8CAA8C;IAC9C,wCAAwC;IACxC,yDAAyD;IAEzD,MAAM,sBAAsB;QAC9B,IAAI,CAAC,QAAQ;YACP,MAAM;YACN;QACF;QACJ,IAAI,WAAW,IAAI,OAAO,IAAI;YACxB,MAAM;YACN;QACF;QACA,qBAAqB;QAEzB,qCAAqC;QACjC,yCAAyC;QACzC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,CAAC;YACvD;gBACE,SAAS,SAAS,EAAE;gBACpB,YAAY;gBACZ,SAAS,WAAW,IAAI;YAC1B;SACD;QAED,IAAI,OAAO;YACT,MAAM;YACN,qBAAqB;YACrB;QACF;QAEA,0DAA0D;QAE9D,sDAAsD;QAClD,kDAAkD;QAClD,OAAO,OAAO;QAEd,cAAc;QACd,qBAAqB;IACvB;IACA,MAAM,mBAAmB;QACvB,IAAI,WAAW,SAAS,UAAU,EAAE;YAClC,MAAM;YACN;QACF;QACA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,SACL,MAAM,GACN,EAAE,CAAC,MAAM,SAAS,EAAE;QAEvB,IAAI,OAAO;YACT,MAAM;YACN,yBAAyB;YACzB;QACF;QAEA,OAAO,OAAO,CAAC;IACjB;IAEA,uDAAuD;IACvD,+CAA+C;IAC/C,8BAA8B;IAC9B,KAAK;IACL,gDAAgD;IAChD,MAAM,sBAAsB,OAAO;QACjC,oBAAoB;QACpB,MAAM,kBAAkB,SAAS,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAC/D,IAAI,CAAC,mBAAmB,gBAAgB,UAAU,KAAK,QAAQ;YAC7D,MAAM;YACN,mBAAmB;YACnB;QACF;QAEA,mBAAmB;QACnB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,YACL,MAAM,GACN,EAAE,CAAC,MAAM;QAEZ,IAAI,OAAO;YACT,MAAM;QACR,OAAO;YACL,qCAAqC;YACrC,OAAO,OAAO;QAChB;QAEA,mBAAmB,OAAO,QAAQ;IACpC;IACA,qBACE;;0BACE,wQAAC;gBAAI,WAAU;;kCACb,wQAAC;wBAAQ,WAAU;;0CACjB,wQAAC;gCAAI,WAAU;;kDACb,wQAAC;wCAAI,WAAU;kDACZ,SAAS,IAAI,EAAE,MAAM,KAAK,IAAI,CAAC,oBAC9B,wQAAC;gDAEC,WAAU;0DAET;+CAHI;;;;;;;;;;kDAQX,wQAAC;wCAAG,WAAU;kDACX,SAAS,KAAK;;;;;;kDAGjB,wQAAC;wCAAI,WAAU;;0DACb,wQAAC;gDAAI,WAAU;;kEACb,wQAAC;kEAAM,SAAS,QAAQ,EAAE;;;;;;kEAC1B,wQAAC;kEAAK;;;;;;kEACN,wQAAC;wDAAI,WAAU;;0EACb,wQAAC,uOAAK;gEAAC,MAAM;;;;;;0EACb,wQAAC;;oEACE;oEACA,IAAA,yLAAM,EAAC,IAAI,KAAK,SAAS,UAAU,GAAG;;;;;;;;;;;;;kEAG3C,wQAAC;kEAAK;;;;;;kEACN,wQAAC;kEAAM,IAAA,6KAAgB,EAAC,SAAS,OAAO,IAAI;;;;;;;;;;;;0DAG9C,wQAAC;gDAAI,WAAU;0DACZ,WAAW,SAAS,UAAU,kBAC7B;;sEACE,wQAAC,iMAAI;4DAAC,MAAM,CAAC,eAAe,EAAE,SAAS,EAAE,EAAE;sEACzC,cAAA,wQAAC;gEAAO,WAAU;0EAChB,cAAA,wQAAC,6OAAI;oEAAC,MAAM;oEAAI,WAAU;;;;;;;;;;;;;;;;sEAG9B,wQAAC;4DACC,WAAU;4DACV,SAAS,IAAM,yBAAyB;sEAExC,cAAA,wQAAC,8OAAM;gEAAC,MAAM;gEAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAQxC,wQAAC;gCAAI,WAAU;0CACb,cAAA,wQAAC;oCAAI,WAAU;8CACZ,SAAS,OAAO,EAAE,MAAM,QAAQ,IAAI,CAAC,WAAW;wCAC/C,IAAI,UAAU,UAAU,CAAC,QAAQ;4CAC/B,qBACE,wQAAC;gDAAa,WAAU;0DACrB,UAAU,OAAO,CAAC,OAAO;+CADnB;;;;;wCAIb;wCACA,IAAI,UAAU,UAAU,CAAC,SAAS;4CAChC,qBACE,wQAAC;gDAAa,WAAU;0DACrB,UAAU,OAAO,CAAC,QAAQ;+CADpB;;;;;wCAIb;wCACA,qBACE,wQAAC;4CAAY,WAAU;sDACpB;2CADK;;;;;oCAIZ;;;;;;;;;;;;;;;;;kCAKN,wQAAC;wBAAI,WAAU;;0CACb,wQAAC;gCAAG,WAAU;;oCAAsB;oCACvB,SAAS,QAAQ,CAAC,MAAM;oCAAC;;;;;;;0CAGtC,wQAAC;gCAAI,WAAU;;kDACb,wQAAC;wCACC,aAAY;wCACZ,MAAM;wCACN,WAAU;wCACV,OAAO;wCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;kDAE/C,wQAAC;wCAAI,WAAU;kDACb,cAAA,wQAAC;4CACC,WAAU;4CACV,SAAS;4CACT,UAAU;;8DAEV,wQAAC,oOAAI;oDAAC,MAAM;;;;;;8DACZ,wQAAC;8DAAM,oBAAoB,YAAY;;;;;;;;;;;;;;;;;;;;;;;0CAK7C,wQAAC;gCAAI,WAAU;0CAEZ,SAAS,QAAQ,CAAC,GAAG,CAAC,CAAC,wBACtB,wQAAC;wCAEC,WAAU;kDAEV,cAAA,wQAAC;4CAAI,WAAU;;8DACb,wQAAC;oDAAI,WAAU;;sEACb,wQAAC;4DAAI,WAAU;;8EACb,wQAAC;oEAAK,WAAU;;;;;;8EAGhB,wQAAC;oEAAK,WAAU;8EACb,IAAA,yLAAM,EAAC,IAAI,KAAK,QAAQ,UAAU,GAAG;;;;;;;;;;;;sEAG1C,wQAAC;4DAAE,WAAU;sEACV,QAAQ,OAAO;;;;;;;;;;;;gDAUnB,WAAW,QAAQ,UAAU,kBAC5B,wQAAC;oDACC,WAAU;oDACV,SAAS,IAAM,mBAAmB,QAAQ,EAAE;8DAE5C,cAAA,wQAAC,8OAAM;wDAAC,MAAM;wDAAI,WAAU;;;;;;;;;;;;;;;;;uCA7B7B,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;0BAsCzB,wQAAC,gLAAW;gBACV,QAAQ;gBACR,SAAS,IAAM,yBAAyB;gBACxC,WAAW;gBACX,OAAM;gBACN,SAAQ;;;;;;0BAGV,wQAAC,gLAAW;gBACV,QAAQ,oBAAoB;gBAC5B,SAAS,IAAM,mBAAmB;gBAClC,WAAW,IACT,mBAAmB,oBAAoB;gBAEzC,OAAM;gBACN,SAAQ;;;;;;;;AAIhB","debugId":null}},
    {"offset": {"line": 918, "column": 0}, "map": {"version":3,"sources":["file:///home/peachpetal/workspace/FE7_DevCourse/learn-next/final/src/utils/actions/index.ts"],"sourcesContent":["\"use server\";\n\nimport { redirect } from \"next/navigation\";\nimport { createClient } from \"../supabase/server\";\nimport { revalidatePath } from \"next/cache\";\n\n// üí° [ÏàòÏ†ï] ÏÉàÎ°ú ÌÜµÌï©Îêú helper ÌååÏùºÏóêÏÑú import\nimport {\n  getGeminiProductFeed,\n  FeedItem,\n} from \"@/utils/helper\"; // üëà Í≤ΩÎ°ú ÏàòÏ†ï\n\nexport const githubLogin = async () => {\n  const supabase = await createClient();\n  const { data } = await supabase.auth.signInWithOAuth({\n    provider: \"github\",\n    options: {\n      redirectTo: `${process.env.NEXT_PUBLIC_URL}/auth/callback`,\n    },\n  });\n\n  if (data.url) {\n    redirect(data.url); \n  }\n};\n\nexport async function signOut() {\n  const supabase = await createClient();\n  await supabase.auth.signOut();\n  revalidatePath(\"/\");\n}\n\n/* --- üí° [Ïó¨Í∏∞Ïóê ÏÉà ÏÑúÎ≤Ñ Ïï°ÏÖò Ï∂îÍ∞Ä] --- */\n\nconst ITEMS_PER_PAGE = 5; // Ìïú Î≤àÏóê 5Í∞úÏî© Î∂àÎü¨ÏòµÎãàÎã§.\n\n/**\n * @param page 1Î∂ÄÌÑ∞ ÏãúÏûëÌïòÎäî ÌéòÏù¥ÏßÄ Î≤àÌò∏\n */\nexport async function getMoreFeedItems(page: number): Promise<FeedItem[]> {\n  // getGeminiProductFeedÎäî fetch Ï∫êÏãú ÎçïÎ∂ÑÏóê Ï†ÑÏ≤¥ Î™©Î°ùÏùÑ Îã§Ïãú Îã§Ïö¥Î°úÎìúÌïòÏßÄ ÏïäÏäµÎãàÎã§.\n  const allItems = await getGeminiProductFeed();\n\n  // ÏöîÏ≤≠Îêú ÌéòÏù¥ÏßÄÏóê Ìï¥ÎãπÌïòÎäî 5Í∞ú ÏïÑÏù¥ÌÖúÏùÑ ÏûòÎùº Î∞òÌôòÌï©ÎãàÎã§.\n  const offset = page * ITEMS_PER_PAGE;\n  return allItems.slice(offset, offset + ITEMS_PER_PAGE);\n}"],"names":[],"mappings":";;;;;;;IAuCsB,mBAAA,WAAA,GAAA,IAAA,yQAAA,EAAA,8CAAA,8PAAA,EAAA,KAAA,GAAA,oQAAA,EAAA","debugId":null}},
    {"offset": {"line": 930, "column": 0}, "map": {"version":3,"sources":["file:///home/peachpetal/workspace/FE7_DevCourse/learn-next/final/src/components/feed/FeedItemList.tsx"],"sourcesContent":["// src/components/feed/FeedItemList.tsx\n\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { FeedItem } from \"@/utils/helper\"; // üí° [ÏàòÏ†ï] Ìó¨Ìçº ÌååÏùºÏóêÏÑú ÌÉÄÏûÖ import\nimport { getMoreFeedItems } from \"@/utils/actions\"; // ÏÑúÎ≤Ñ Ïï°ÏÖò import\nimport Link from \"next/link\";\nimport { Tag } from \"lucide-react\";\nimport { format } from \"date-fns\";\n\nconst ITEMS_PER_PAGE = 5;\n\ntype FeedItemListProps = {\n  initialItems: FeedItem[];\n  totalItems: number;\n};\n\nexport default function FeedItemList({\n  initialItems,\n  totalItems,\n}: FeedItemListProps) {\n  const [items, setItems] = useState(initialItems);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(totalItems > initialItems.length);\n\n  const triggerRef = useRef<HTMLLIElement>(null);\n\n  const renderItem = (item: FeedItem) => {\n    // üí° Buffer ÏÇ¨Ïö© (Node.js APIÏù¥ÎØÄÎ°ú ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Ïª¥Ìè¨ÎÑåÌä∏ÏóêÏÑúÎèÑ ÏÇ¨Ïö© Í∞ÄÎä•)\nconst safeGuid = btoa(item.guid) // 1. ÌëúÏ§Ä Base64 Ïù∏ÏΩîÎî© (btoa)\n      .replace(/\\+/g, \"-\") // 2. '+'Î•º '-'Î°ú Î≥ÄÍ≤Ω\n      .replace(/\\//g, \"_\") // 3. '/'Î•º '_'Î°ú Î≥ÄÍ≤Ω\n      .replace(/=+$/, \"\"); // 4. Ìå®Îî©(=) Ï†úÍ±∞\n\n    return (\n      <li\n        key={item.guid}\n        className=\"border-b border-gray-800 pb-3 last:border-b-0\"\n      >\n        <Link\n          href={`/feed/${safeGuid}`}\n          className=\"text-gray-300 hover:text-white transition-colors\"\n        >\n          {item.title}\n        </Link>\n\n        {item.contentSnippet && (\n          <p className=\"text-sm text-gray-400 mt-2 leading-relaxed\">\n            {item.contentSnippet.slice(0, 150)}...\n          </p>\n        )}\n\n        <div className=\"flex items-center gap-2 mt-3\">\n          <Tag size={14} className=\"text-gray-600\" />\n          <div className=\"flex gap-2 flex-wrap\">\n            {item.categories?.map((tag) => (\n              <span\n                key={tag}\n                className=\"text-xs px-2 py-1 rounded bg-gray-800 text-gray-400\"\n              >\n                {tag}\n              </span>\n            ))}\n          </div>\n        </div>\n\n        <p className=\"text-xs text-gray-500 mt-2\">\n          {format(new Date(item.pubDate), \"yyyy.MM.dd\")}\n        </p>\n      </li>\n    );\n  };\n\n  const loadMoreItems = async () => {\n    if (isLoading || !hasMore) return;\n\n    setIsLoading(true);\n    const newItems = await getMoreFeedItems(page); // ÏÑúÎ≤Ñ Ïï°ÏÖò Ìò∏Ï∂ú\n\n    if (newItems.length > 0) {\n      setItems((prevItems) => [...prevItems, ...newItems]);\n      setPage((prevPage) => prevPage + 1);\n      setHasMore(items.length + newItems.length < totalItems);\n    } else {\n      setHasMore(false);\n    }\n\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting) {\n          loadMoreItems();\n        }\n      },\n      { threshold: 1.0 }\n    );\n\n    const currentTrigger = triggerRef.current;\n    if (currentTrigger) {\n      observer.observe(currentTrigger);\n    }\n\n    return () => {\n      if (currentTrigger) {\n        observer.unobserve(currentTrigger);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isLoading, hasMore, page]);\n\n  return (\n    <ul className=\"space-y-4\">\n      {items.map(renderItem)}\n\n      {hasMore && (\n        <li\n          ref={triggerRef}\n          className=\"text-center text-gray-500 py-4\"\n        >\n          {isLoading ? \"Loading...\" : \"Load more\"}\n        </li>\n      )}\n    </ul>\n  );\n}"],"names":[],"mappings":"AAAA,uCAAuC;;;;;;AAGvC;AAEA,8TAAoD,eAAe;AACnE;AACA;AACA;AAPA;;;;;;;AASA,MAAM,iBAAiB;AAOR,SAAS,aAAa,EACnC,YAAY,EACZ,UAAU,EACQ;IAClB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,2OAAQ,EAAC;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,2OAAQ,EAAC;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,2OAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2OAAQ,EAAC,aAAa,aAAa,MAAM;IAEvE,MAAM,aAAa,IAAA,yOAAM,EAAgB;IAEzC,MAAM,aAAa,CAAC;QAClB,oDAAoD;QACxD,MAAM,WAAW,KAAK,KAAK,IAAI,EAAE,0BAA0B;SACpD,OAAO,CAAC,OAAO,KAAK,kBAAkB;SACtC,OAAO,CAAC,OAAO,KAAK,kBAAkB;SACtC,OAAO,CAAC,OAAO,KAAK,cAAc;QAErC,qBACE,wQAAC;YAEC,WAAU;;8BAEV,wQAAC,iMAAI;oBACH,MAAM,CAAC,MAAM,EAAE,UAAU;oBACzB,WAAU;8BAET,KAAK,KAAK;;;;;;gBAGZ,KAAK,cAAc,kBAClB,wQAAC;oBAAE,WAAU;;wBACV,KAAK,cAAc,CAAC,KAAK,CAAC,GAAG;wBAAK;;;;;;;8BAIvC,wQAAC;oBAAI,WAAU;;sCACb,wQAAC,iOAAG;4BAAC,MAAM;4BAAI,WAAU;;;;;;sCACzB,wQAAC;4BAAI,WAAU;sCACZ,KAAK,UAAU,EAAE,IAAI,CAAC,oBACrB,wQAAC;oCAEC,WAAU;8CAET;mCAHI;;;;;;;;;;;;;;;;8BASb,wQAAC;oBAAE,WAAU;8BACV,IAAA,yLAAM,EAAC,IAAI,KAAK,KAAK,OAAO,GAAG;;;;;;;WA/B7B,KAAK,IAAI;;;;;IAmCpB;IAEA,MAAM,gBAAgB;QACpB,IAAI,aAAa,CAAC,SAAS;QAE3B,aAAa;QACb,MAAM,WAAW,MAAM,IAAA,6MAAgB,EAAC,OAAO,WAAW;QAE1D,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,SAAS,CAAC,YAAc;uBAAI;uBAAc;iBAAS;YACnD,QAAQ,CAAC,WAAa,WAAW;YACjC,WAAW,MAAM,MAAM,GAAG,SAAS,MAAM,GAAG;QAC9C,OAAO;YACL,WAAW;QACb;QAEA,aAAa;IACf;IAEA,IAAA,4OAAS,EAAC;QACR,MAAM,WAAW,IAAI,qBACnB,CAAC;YACC,IAAI,OAAO,CAAC,EAAE,CAAC,cAAc,EAAE;gBAC7B;YACF;QACF,GACA;YAAE,WAAW;QAAI;QAGnB,MAAM,iBAAiB,WAAW,OAAO;QACzC,IAAI,gBAAgB;YAClB,SAAS,OAAO,CAAC;QACnB;QAEA,OAAO;YACL,IAAI,gBAAgB;gBAClB,SAAS,SAAS,CAAC;YACrB;QACF;IACA,uDAAuD;IACzD,GAAG;QAAC;QAAW;QAAS;KAAK;IAE7B,qBACE,wQAAC;QAAG,WAAU;;YACX,MAAM,GAAG,CAAC;YAEV,yBACC,wQAAC;gBACC,KAAK;gBACL,WAAU;0BAET,YAAY,eAAe;;;;;;;;;;;;AAKtC","debugId":null}},
    {"offset": {"line": 1094, "column": 0}, "map": {"version":3,"sources":["file:///home/peachpetal/workspace/FE7_DevCourse/learn-next/final/src/components/feed/FeedPostClient.tsx"],"sourcesContent":["// üí° ÏÉà ÌååÏùº: src/components/feed/FeedPostClient.tsx\n\n\"use client\";\n\nimport { FeedItem } from \"@/utils/helper\";\nimport { format } from \"date-fns\";\nimport { Clock, Tag } from \"lucide-react\";\nimport Link from \"next/link\";\n\nexport default function FeedPostClient({ item }: { item: FeedItem }) {\n  // üí° PostClient.tsxÏùò Ïä§ÌÉÄÏùºÏùÑ Î™®Î∞©\n  return (\n    <div className=\"max-w-3xl mx-auto\">\n      <article className=\"space-y-8\">\n        {/* Ìó§Îçî (PostClient.tsx Ïä§ÌÉÄÏùº) */}\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center gap-2\">\n            {item.categories?.map((tag) => (\n              <span\n                key={tag}\n                className=\"text-xs px-2 py-1 rounded bg-gray-800 text-gray-400\"\n              >\n                {tag}\n              </span>\n            ))}\n          </div>\n\n          <h1 className=\"text-4xl font-light tracking-tight leading-tight\">\n            {item.title}\n          </h1>\n\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-4 text-sm text-gray-400\">\n              <span>Google Gemini Blog</span>\n              <span>‚Ä¢</span>\n              <div className=\"flex items-center gap-1\">\n                <Clock size={14} />\n                <span>{format(new Date(item.pubDate), \"yyyy.MM.dd\")}</span>\n              </div>\n            </div>\n            {/* ÏõêÎ≥∏ ÎßÅÌÅ¨ Î≤ÑÌäº */}\n            <Link\n              href={item.link}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"px-4 py-2 rounded-lg border border-gray-700 hover:border-gray-600 hover:bg-gray-800/50 transition-colors text-sm\"\n            >\n              ÏõêÎ≥∏ Î≥¥Í∏∞\n            </Link>\n          </div>\n        </div>\n\n        {/* Î≥∏Î¨∏ ÏòÅÏó≠ */}\n        <div className=\"border-t border-gray-800 pt-8\">\n          {/* üí° [ÌïµÏã¨] \n            Google RSSÏùò Î≥∏Î¨∏(item.content)ÏùÄ HTMLÏûÖÎãàÎã§.\n            PostClient.tsxÏ≤òÎüº Markdown ÌååÏã±ÏùÑ Ìï† Ïàò ÏóÜÏäµÎãàÎã§.\n            'dangerouslySetInnerHTML'ÏùÑ ÏÇ¨Ïö©Ìï¥ HTMLÏùÑ Í∑∏ÎåÄÎ°ú Î†åÎçîÎßÅÌï¥Ïïº Ìï©ÎãàÎã§.\n            'prose prose-invert'Î•º ÏÇ¨Ïö©Ìï¥ GoogleÏùò CSS ÎåÄÏã† Í∏∞Î≥∏ Ïä§ÌÉÄÏùºÏùÑ Ï†ÅÏö©Ìï©ÎãàÎã§.\n          */}\n          <div\n            className=\"prose prose-invert prose-sm max-w-none text-gray-300\"\n            dangerouslySetInnerHTML={{ __html: item.content }}\n          />\n        </div>\n      </article>\n\n      {/* üí° Ï∞∏Í≥†: \n        Ïù¥ ÌéòÏù¥ÏßÄÎäî Supabase DBÏùò 'posts' Î†àÏΩîÎìúÍ∞Ä ÏïÑÎãàÎØÄÎ°ú,\n        PostClient.tsxÏùò ÎåìÍ∏Ä Í∏∞Îä•ÏùÄ Ïó¨Í∏∞ÏÑúÎäî ÏûëÎèôÌïòÏßÄ ÏïäÏäµÎãàÎã§.\n      */}\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,kDAAkD;;;;;;AAKlD;AACA;AACA;AALA;;;;;AAOe,SAAS,eAAe,EAAE,IAAI,EAAsB;IACjE,6BAA6B;IAC7B,qBACE,wQAAC;QAAI,WAAU;kBACb,cAAA,wQAAC;YAAQ,WAAU;;8BAEjB,wQAAC;oBAAI,WAAU;;sCACb,wQAAC;4BAAI,WAAU;sCACZ,KAAK,UAAU,EAAE,IAAI,CAAC,oBACrB,wQAAC;oCAEC,WAAU;8CAET;mCAHI;;;;;;;;;;sCAQX,wQAAC;4BAAG,WAAU;sCACX,KAAK,KAAK;;;;;;sCAGb,wQAAC;4BAAI,WAAU;;8CACb,wQAAC;oCAAI,WAAU;;sDACb,wQAAC;sDAAK;;;;;;sDACN,wQAAC;sDAAK;;;;;;sDACN,wQAAC;4CAAI,WAAU;;8DACb,wQAAC,uOAAK;oDAAC,MAAM;;;;;;8DACb,wQAAC;8DAAM,IAAA,yLAAM,EAAC,IAAI,KAAK,KAAK,OAAO,GAAG;;;;;;;;;;;;;;;;;;8CAI1C,wQAAC,iMAAI;oCACH,MAAM,KAAK,IAAI;oCACf,QAAO;oCACP,KAAI;oCACJ,WAAU;8CACX;;;;;;;;;;;;;;;;;;8BAOL,wQAAC;oBAAI,WAAU;8BAOb,cAAA,wQAAC;wBACC,WAAU;wBACV,yBAAyB;4BAAE,QAAQ,KAAK,OAAO;wBAAC;;;;;;;;;;;;;;;;;;;;;;AAW5D","debugId":null}}]
}
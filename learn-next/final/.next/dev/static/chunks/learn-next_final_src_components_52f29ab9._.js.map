{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/peachpetal/workspace/FE7_DevCourse/learn-next/final/src/components/common/Pagination.tsx"],"sourcesContent":["import React from \"react\";\n\ninterface PaginationProps {\n  currentPage: number;\n  totalPosts: number;\n  postsPerPage: number;\n  visibleRange?: number; // ÌòÑÏû¨ ÌéòÏù¥ÏßÄ Í∏∞Ï§ÄÏúºÎ°ú ÏñëÏ™Ω Î™á Í∞úÏî© Î≥¥Ïó¨Ï§ÑÏßÄ\n  onPageChange: (page: number) => void;\n}\n\nexport function Pagination({\n  currentPage,\n  totalPosts,\n  postsPerPage,\n  visibleRange = 1,\n  onPageChange,\n}: PaginationProps) {\n  const totalPages = Math.ceil(totalPosts / postsPerPage);\n\n  // ÏãúÏûë/ÎÅù ÌéòÏù¥ÏßÄ Í≥ÑÏÇ∞\n  const startPage = Math.max(1, currentPage - visibleRange);\n  const endPage = Math.min(totalPages, currentPage + visibleRange);\n\n  // ÌéòÏù¥ÏßÄ Î∞∞Ïó¥ ÏÉùÏÑ±\n  const pages = [];\n  for (let i = startPage; i <= endPage; i++) {\n    pages.push(i);\n  }\n\n  // ÌéòÏù¥ÏßÄ Ïù¥Îèô Ìï∏Îì§Îü¨\n  const handlePrev = () => {\n    if (currentPage > 1) onPageChange(currentPage - 1);\n  };\n\n  const handleNext = () => {\n    if (currentPage < totalPages) onPageChange(currentPage + 1);\n  };\n\n  return (\n    <div className=\"flex justify-center gap-2 pt-4\">\n      {/* Ïù¥Ï†Ñ Î≤ÑÌäº */}\n      <button\n        onClick={handlePrev}\n        disabled={currentPage === 1}\n        className={`px-3 py-1 rounded text-sm transition-colors ${\n          currentPage === 1\n            ? \"bg-gray-900 text-gray-600 cursor-not-allowed\"\n            : \"bg-gray-800 text-gray-400 hover:bg-gray-700\"\n        }`}\n      >\n        Previous\n      </button>\n\n      {/* ÌéòÏù¥ÏßÄ Î≤àÌò∏ Î≤ÑÌäº */}\n      {pages.map((page) => (\n        <button\n          key={page}\n          onClick={() => onPageChange(page)}\n          className={`px-3 py-1 rounded text-sm transition-colors ${\n            page === currentPage\n              ? \"bg-gray-700 text-white\"\n              : \"bg-gray-800 text-gray-400 hover:bg-gray-700\"\n          }`}\n        >\n          {page}\n        </button>\n      ))}\n\n      {/* Îã§Ïùå Î≤ÑÌäº */}\n      <button\n        onClick={handleNext}\n        disabled={currentPage === totalPages}\n        className={`px-3 py-1 rounded text-sm transition-colors ${\n          currentPage === totalPages\n            ? \"bg-gray-900 text-gray-600 cursor-not-allowed\"\n            : \"bg-gray-800 text-gray-400 hover:bg-gray-700\"\n        }`}\n      >\n        Next\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAUO,SAAS,WAAW,EACzB,WAAW,EACX,UAAU,EACV,YAAY,EACZ,eAAe,CAAC,EAChB,YAAY,EACI;IAChB,MAAM,aAAa,KAAK,IAAI,CAAC,aAAa;IAE1C,cAAc;IACd,MAAM,YAAY,KAAK,GAAG,CAAC,GAAG,cAAc;IAC5C,MAAM,UAAU,KAAK,GAAG,CAAC,YAAY,cAAc;IAEnD,YAAY;IACZ,MAAM,QAAQ,EAAE;IAChB,IAAK,IAAI,IAAI,WAAW,KAAK,SAAS,IAAK;QACzC,MAAM,IAAI,CAAC;IACb;IAEA,aAAa;IACb,MAAM,aAAa;QACjB,IAAI,cAAc,GAAG,aAAa,cAAc;IAClD;IAEA,MAAM,aAAa;QACjB,IAAI,cAAc,YAAY,aAAa,cAAc;IAC3D;IAEA,qBACE,uNAAC;QAAI,WAAU;;0BAEb,uNAAC;gBACC,SAAS;gBACT,UAAU,gBAAgB;gBAC1B,WAAW,CAAC,4CAA4C,EACtD,gBAAgB,IACZ,iDACA,+CACJ;0BACH;;;;;;YAKA,MAAM,GAAG,CAAC,CAAC,qBACV,uNAAC;oBAEC,SAAS,IAAM,aAAa;oBAC5B,WAAW,CAAC,4CAA4C,EACtD,SAAS,cACL,2BACA,+CACJ;8BAED;mBARI;;;;;0BAaT,uNAAC;gBACC,SAAS;gBACT,UAAU,gBAAgB;gBAC1B,WAAW,CAAC,4CAA4C,EACtD,gBAAgB,aACZ,iDACA,+CACJ;0BACH;;;;;;;;;;;;AAKP;KAxEgB","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///home/peachpetal/workspace/FE7_DevCourse/learn-next/final/src/components/main/MainPageWrapper.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\"; // üí° useEffect Ï∂îÍ∞Ä\nimport { Pagination } from \"../common/Pagination\";\nimport { useRouter } from \"next/navigation\"; // üí° useRouter Ï∂îÍ∞Ä\nimport { createClient } from \"@/utils/supabase/client\"; // üí° supabase client Ï∂îÍ∞Ä\n\nexport default function MainPageWrapper({\n  totalPosts,\n  currentPage,\n  postsPerPage,\n}: {\n  totalPosts: number;\n  currentPage: number;\n  postsPerPage: number;\n}) {\n  const router = useRouter(); // üí° router ÏÇ¨Ïö©\n\nuseEffect(() => {\n    const supabase = createClient();\n\n    // 1. posts Ï±ÑÎÑê Íµ¨ÎèÖ\n    const postsChannel = supabase\n      .channel(\"public:posts\") // üí° Ï±ÑÎÑê Ïù¥Î¶Ñ 1\n      .on(\n        \"postgres_changes\",\n        {\n          event: \"*\",\n          schema: \"public\",\n          table: \"posts\", // üëà posts ÌÖåÏù¥Î∏î Í∞êÏßÄ\n        },\n        (payload) => {\n          console.log(\"Posts table changed!\", payload);\n          router.refresh();\n        }\n      )\n      .subscribe();\n\n    // 2. [Ï∂îÍ∞Ä] comments Ï±ÑÎÑê Íµ¨ÎèÖ\n    const commentsChannel = supabase\n      .channel(\"public:comments\")\n      .on(\n        \"postgres_changes\",\n        {\n          event: \"*\",\n          schema: \"public\",\n          table: \"comments\", // üëà comments ÌÖåÏù¥Î∏î Í∞êÏßÄ\n        },\n        (payload) => {\n          console.log(\"Comments table changed!\", payload);\n          // üí° ÎåìÍ∏ÄÏù¥ Î≥ÄÍ≤ΩÎêòÏñ¥ÎèÑ ÌéòÏù¥ÏßÄ ÏÉàÎ°úÍ≥†Ïπ®\n          router.refresh(); \n        }\n      )\n      .subscribe();\n\n    // 3. [ÏàòÏ†ï] Ïª¥Ìè¨ÎÑåÌä∏Í∞Ä ÏÇ¨ÎùºÏßà Îïå \"Îëê Ï±ÑÎÑê Î™®Îëê\" Íµ¨ÎèÖ Ìï¥Ï†ú\n    return () => {\n      supabase.removeChannel(postsChannel);\n      supabase.removeChannel(commentsChannel);\n    };\n  }, [router]);\n\n  const handlePageChange = (newPage: number) => {\n    router.push(`/?page=${newPage}`);\n  };\n\n  return (\n    <>\n      <Pagination\n        currentPage={currentPage}\n        totalPosts={totalPosts}\n        postsPerPage={postsPerPage}\n        visibleRange={2}\n        onPageChange={handlePageChange}\n      />\n    </>\n  );\n}"],"names":[],"mappings":";;;;;AAEA,8TAAmC,kBAAkB;AACrD;AACA,uRAA6C,kBAAkB;AAC/D,oRAAwD,wBAAwB;;;AALhF;;;;;AAOe,SAAS,gBAAgB,EACtC,UAAU,EACV,WAAW,EACX,YAAY,EAKb;;IACC,MAAM,SAAS,IAAA,4KAAS,KAAI,eAAe;IAE7C,IAAA,oMAAS;qCAAC;YACN,MAAM,WAAW,IAAA,+KAAY;YAE7B,iBAAiB;YACjB,MAAM,eAAe,SAClB,OAAO,CAAC,gBAAgB,aAAa;aACrC,EAAE,CACD,oBACA;gBACE,OAAO;gBACP,QAAQ;gBACR,OAAO;YACT;0DACA,CAAC;oBACC,QAAQ,GAAG,CAAC,wBAAwB;oBACpC,OAAO,OAAO;gBAChB;yDAED,SAAS;YAEZ,yBAAyB;YACzB,MAAM,kBAAkB,SACrB,OAAO,CAAC,mBACR,EAAE,CACD,oBACA;gBACE,OAAO;gBACP,QAAQ;gBACR,OAAO;YACT;6DACA,CAAC;oBACC,QAAQ,GAAG,CAAC,2BAA2B;oBACvC,wBAAwB;oBACxB,OAAO,OAAO;gBAChB;4DAED,SAAS;YAEZ,sCAAsC;YACtC;6CAAO;oBACL,SAAS,aAAa,CAAC;oBACvB,SAAS,aAAa,CAAC;gBACzB;;QACF;oCAAG;QAAC;KAAO;IAEX,MAAM,mBAAmB,CAAC;QACxB,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,SAAS;IACjC;IAEA,qBACE;kBACE,cAAA,uNAAC,qLAAU;YACT,aAAa;YACb,YAAY;YACZ,cAAc;YACd,cAAc;YACd,cAAc;;;;;;;AAItB;GAvEwB;;QASP,4KAAS;;;KATF","debugId":null}}]
}